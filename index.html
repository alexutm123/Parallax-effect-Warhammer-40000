<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Document</title>

	<link rel="stylesheet" href="libs/swiper/swiper-bundle.min.css">
	<script src="libs/swiper/swiper-bundle.min.js" defer></script>
	<script src="libs/particles/particles.js" defer></script>

	<link rel="stylesheet" href="css/main.css">
	<script src="js/app.js" defer></script>

</head>
<body>

	<div class="swiper slider">
		<div class="swiper-wrapper slider__wrapper">

			<div class="swiper-slide slider__item">
				<div class="slider__layer" data-swiper-parallax="35%" style="background-image: url(img/screen-1/layer-back.jpg);"></div>
				<div class="slider__layer fade-in" id="layer-middle1" data-swiper-parallax="25%" style="background-image: url(img/screen-1/layer-middle.png);"></div>
				<canvas class="particles slider__layer" data-swiper-parallax="18%" data-color="#BE9164"></canvas>
				<div class="slider__layer" id="layer-front1" data-swiper-parallax="14%" style="background-image: url(img/screen-1/layer-front.png);"></div>
			</div>
			<div class="swiper-slide slider__item">
				<div class="slider__layer" id="layer-middle2" data-src="img/screen-2/layer-back.jpg"></div>
				<div class="slider__layer" id="layer-front2" data-src="img/screen-2/layer-gera.png"></div>
				<canvas class="particles slider__layer" data-color="#525A6D"></canvas>
			</div>
			
			<div class="swiper-slide slider__item">
				<div class="slider__layer" id="layer-back3" data-src="img/screen-3/layer-back.jpg"></div>
				<div class="slider__layer" id="layer-middle3" data-src="img/screen-3/layer-middle.png"></div>
				<canvas class="particles slider__layer" data-color="#938086"></canvas>
			</div>
			
			<script>
			document.addEventListener("DOMContentLoaded", function() {
				var lazyImages = document.querySelectorAll("div.slider__layer[data-src]");
			
				var observer = new IntersectionObserver(function(entries, observer) {
					entries.forEach(function(entry) {
						if (entry.isIntersecting) {
							var image = entry.target;
							image.style.backgroundImage = 'url(' + image.getAttribute('data-src') + ')';
							image.removeAttribute('data-src');
							observer.unobserve(image);
						}
					});
				}, { rootMargin: "0px 0px 50px 0px" }); // Adjust rootMargin as needed
			
				lazyImages.forEach(function(image) {
					observer.observe(image);
				});
			});
			</script>
			
			

		</div>
	</div>
	
</body>
</html>